generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(cuid())
  name             String
  username         String            @unique
  password         String
  avatar           String?
  avatarId         String?
  verifyEmail      Boolean           @default(false)
  verifyToken      String?           @unique
  bio              String?           @db.Text
  role             Role
  education        Education?
  professionalData ProfessionalData?
  projects         Project[]
  skills           Skill[]
  socialMedia      SocialMedia?
}

model Education {
  id          String @id @default(cuid())
  college     String
  department  String
  passingYear Int
  degree      String
  userId      String @unique
  user        User   @relation(fields: [userId], references: [id])
}

model ProfessionalData {
  id                String @id @default(cuid())
  currentCompany    String
  jobTitle          String
  location          String
  yearsOfExperience Int
  userId            String @unique
  user              User   @relation(fields: [userId], references: [id])
}

model Project {
  id          String @id @default(cuid())
  title       String
  liveUrl     String
  githubUrl   String
  description String
  userId      String
  user        User   @relation(fields: [userId], references: [id])
}

model SocialMedia {
  id        String  @id @default(cuid())
  linkedin  String
  twitter   String
  github    String
  instagram String?
  youtube   String?
  portfolio String?
  userId    String  @unique
  user      User    @relation(fields: [userId], references: [id])
}

model Skill {
  id     String @id @default(cuid())
  name   String
  userId String
  user   User   @relation(fields: [userId], references: [id])
}

enum Role {
  Alumni
  User
}
